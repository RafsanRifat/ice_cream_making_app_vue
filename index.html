<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta
            name="viewport"
            content="width=device-width,initial-scale=1,shrink-to-fit=no"
    />
    <link rel="shortcut icon" v-bind:href="logo"/>
    <title>Ice Cream Sundae</title>
    <link rel="stylesheet" href="styles.css"/>
    <script src="https://unpkg.com/vue@3"></script>
</head>

<body>
<div class="react" id="layout">
    <!-- header start -->
    <header>
        <div class="container react" id="header">
            <div>
                <img class="logo" src="images/logo.svg" alt="Logo"/>
            </div>
            <div class="textRight">
                <img v-bind:src="vueLogo" alt="Vue" class="reactLogo"/><strong
            >Vue</strong
            >
            </div>
        </div>
    </header>
    <!-- header end -->

    <!-- body start -->
    <div class="mainBody react" id="body">
        <div class="container react" id="iceCreamBuilder">
            <!-- icecream start -->
            <ice-cream :cart="cart"></ice-cream>
            <!-- ice cream end -->

            <!-- builder start -->
            <div class="react" id="builder">
                <div class="builder">
                    <h3>Build your own Ice Cream Sundae <span>(<span
                            :style="cart.length === 0 ? {color: 'red'} : {}">{{cart.length}}</span>)</span></h3>
                    <!-- items start -->
                    <div class="react" id="items">
                        <ul>
                            <!-- item start -->
                            <li v-for="variant in variants" :key="variant.id" class="react item">
                                <span> {{ variant.name }} </span>
                                <span class="quantity">{{ cart.filter((obj) => obj.id === variant.id).length }}</span>
                                <div class="right">
                                    <button @click="addToCart(variant.id)" type="button" class="plus rounded">+</button>
                                    <button @click="removeFromCart(variant.id)" type="button" class="minus rounded">-
                                    </button>
                                </div>
                            </li>
                            <!-- item end -->
                        </ul>
                    </div>
                    <!-- items end -->

                    <!-- total price start -->
                    <div class="total react" id="total">
                        <div>Total Price</div>
                        <div>{{ total }} Tk</div>
                    </div>
                    <!-- total price end -->
                    <button type="button"  class="order rounded" @click="toggleModal">
                        Proceed
                    </button>
                </div>

                <!-- modal start -->
                <order-form :total="total" :cart="cart" v-if="showModal " @toggle-order-form="toggleModal" @clear-cart="clearCart"></order-form>
                <!-- modal end -->
            </div>
            <!-- builder end -->
        </div>
    </div>
    <!-- body end -->

    <!-- footer start -->
    <footer>
        <div class="container react" id="footer">
            <div>
                Copyright &copy;2020.
            </div>
            <div class="textRight">
                Built with <span class="red">&hearts;</span> by
            </div>
        </div>
    </footer>
    <!-- footer end -->
</div>

<script src="main.js"></script>
<script src="components/iceCream.js"></script>
<script src="components/OrderForm.js"></script>
<script>
    const mountedapp = app.mount('#layout');
</script>
</body>
</html>
